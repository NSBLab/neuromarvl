!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("webcola")):"function"==typeof define&&define.amd?define(["webcola"],t):"object"==typeof exports?exports.cytoscapeCola=t(require("webcola")):e.cytoscapeCola=t(e.webcola)}(self,(e=>{return t={849:e=>{e.exports=null!=Object.assign?Object.assign.bind(Object):function(e,...t){return t.filter((e=>null!=e)).forEach((t=>{Object.keys(t).forEach((n=>e[n]=t[n]))})),e}},200:(e,t,n)=>{const o=n(849),i=n(930),a=n(327)||("undefined"!=typeof window?window.cola:null),r=n(868),c=function(e){return"number"==typeof e},l=function(){},s=function(e,t){return null!=(n=e)&&"function"==typeof n?e.apply(t,[t]):e;var n};function d(e){this.options=o({},i,e)}d.prototype.run=function(){let e=this,t=this.options;e.manuallyStopped=!1;let n=t.cy,o=t.eles,i=o.nodes(),d=o.edges(),u=!1,f=i.filter((e=>e.isParent())),p=i.subtract(f),h=t.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===h.x2&&(h.x2=h.x1+h.w),void 0===h.w&&(h.w=h.x2-h.x1),void 0===h.y2&&(h.y2=h.y1+h.h),void 0===h.h&&(h.h=h.y2-h.y1);let g=function(){for(let e=0;e<i.length;e++){let n=i[e],o=n.layoutDimensions(t),a=n.scratch("cola");if(!a.updatedDims){let e=s(t.nodeSpacing,n);a.width=o.w+2*e,a.height=o.h+2*e}}i.positions((function(e){let t,n=e.scratch().cola;return!e.grabbed()&&p.contains(e)&&(t={x:h.x1+n.x,y:h.y1+n.y},c(t.x)&&c(t.y)||(t=void 0)),t})),i.updateCompoundBounds(),u||(m(),u=!0),t.fit&&n.fit(t.padding)},y=function(){t.ungrabifyWhileSimulating&&S.grabify(),n.off("destroy",w),i.off("grab free position",b),i.off("lock unlock",k),e.one("layoutstop",t.stop),e.trigger({type:"layoutstop",layout:e})},m=function(){e.one("layoutready",t.ready),e.trigger({type:"layoutready",layout:e})},x=t.refresh;x=t.refresh<0?1:Math.max(1,x);let v=e.adaptor=a.adaptor({trigger:function(e){let n=a.EventType?a.EventType.tick:null,o=a.EventType?a.EventType.end:null;switch(e.type){case"tick":case n:t.animate&&g();break;case"end":case o:g(),t.infinite||y()}},kick:function(){let n=!0,o=function(){if(e.manuallyStopped)return y(),!0;let o=v.tick();return t.infinite||n||v.convergenceThreshold(t.convergenceThreshold),n=!1,o&&t.infinite&&v.resume(),o};if(t.animate){let e=function(){(function(){let e;for(let t=0;t<x&&!e;t++)e=e||o();return e})()||r(e)};r(e)}else for(;!o(););},on:l,drag:l});e.adaptor=v;let w,b,k,S=i.filter(":grabbable");t.ungrabifyWhileSimulating&&S.ungrabify(),n.one("destroy",w=function(){e.stop()}),i.on("grab free position",b=function(e){let t=this,n=t.scratch().cola,o=t.position();if(e.cyTarget===t||e.target===t)switch(e.type){case"grab":v.dragstart(n);break;case"free":v.dragend(n);break;case"position":n.px===o.x-h.x1&&n.py===o.y-h.y1||(n.px=o.x-h.x1,n.py=o.y-h.y1)}}),i.on("lock unlock",k=function(){let e=this,t=e.scratch().cola;t.fixed=e.locked(),e.locked()?v.dragstart(t):v.dragend(t)}),v.nodes(p.map((function(e,n){let o=s(t.nodeSpacing,e),i=e.position(),a=e.layoutDimensions(t);return e.scratch().cola={x:t.randomize&&!e.locked()||void 0===i.x?Math.round(Math.random()*h.w):i.x,y:t.randomize&&!e.locked()||void 0===i.y?Math.round(Math.random()*h.h):i.y,width:a.w+2*o,height:a.h+2*o,index:n,fixed:e.locked()}})));let L,D,T=[];t.alignment&&(t.alignment.vertical&&t.alignment.vertical.forEach((function(e){let t=[];e.forEach((function(e){let n=e.node.scratch().cola.index;t.push({node:n,offset:e.offset?e.offset:0})})),T.push({type:"alignment",axis:"x",offsets:t})})),t.alignment.horizontal&&t.alignment.horizontal.forEach((function(e){let t=[];e.forEach((function(e){let n=e.node.scratch().cola.index;t.push({node:n,offset:e.offset?e.offset:0})})),T.push({type:"alignment",axis:"y",offsets:t})}))),t.gapInequalities&&t.gapInequalities.forEach((e=>{let t=e.left.scratch().cola.index,n=e.right.scratch().cola.index;T.push({axis:e.axis,left:t,right:n,gap:e.gap,equality:e.equality})})),T.length>0&&v.constraints(T),v.groups(f.map((function(e,n){let o=s(t.nodeSpacing,e),i=function(t){return parseFloat(e.style("padding-"+t))},a=i("left")+o,r=i("right")+o,c=i("top")+o,l=i("bottom")+o;return e.scratch().cola={index:n,padding:Math.max(a,r,c,l),leaves:e.children().intersection(p).map((function(e){return e[0].scratch().cola.index})),fixed:e.locked()},e})).map((function(e){return e.scratch().cola.groups=e.children().intersection(f).map((function(e){return e.scratch().cola.index})),e.scratch().cola}))),null!=t.edgeLength?(L=t.edgeLength,D="linkDistance"):null!=t.edgeSymDiffLength?(L=t.edgeSymDiffLength,D="symmetricDiffLinkLengths"):null!=t.edgeJaccardLength?(L=t.edgeJaccardLength,D="jaccardLinkLengths"):(L=100,D="linkDistance");if(v.links(d.stdFilter((function(e){return p.contains(e.source())&&p.contains(e.target())})).map((function(e){let t=e.scratch().cola={source:e.source()[0].scratch().cola.index,target:e.target()[0].scratch().cola.index};return null!=L&&(t.calcLength=s(L,e)),t}))),v.size([h.w,h.h]),null!=L&&v[D]((function(e){return e.calcLength})),t.flow){let e,n="y",o=50;"string"==typeof t.flow?e={axis:t.flow,minSeparation:o}:c(t.flow)?e={axis:n,minSeparation:t.flow}:null!=(q=t.flow)&&typeof q==typeof{}?(e=t.flow,e.axis=e.axis||n,e.minSeparation=null!=e.minSeparation?e.minSeparation:o):e={axis:n,minSeparation:o},v.flowLayout(e.axis,e.minSeparation)}var q;return e.trigger({type:"layoutstart",layout:e}),v.avoidOverlaps(t.avoidOverlap).handleDisconnected(t.handleDisconnected).start(t.unconstrIter,t.userConstIter,t.allConstIter,void 0,void 0,t.centerGraph),t.infinite||setTimeout((function(){e.manuallyStopped||v.stop()}),t.maxSimulationTime),this},d.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},e.exports=d},930:e=>{e.exports={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1}},138:(e,t,n)=>{const o=n(200);let i=function(e){e&&e("layout","cola",o)};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i},868:e=>{let t;t="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||(e=>setTimeout(e,16)):function(e){e()},e.exports=t},327:t=>{"use strict";t.exports=e}},n={},function e(o){var i=n[o];if(void 0!==i)return i.exports;var a=n[o]={exports:{}};return t[o](a,a.exports,e),a.exports}(138);var t,n}));