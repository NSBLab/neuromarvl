!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.layoutBase=e():t.layoutBase=e()}(self,(()=>{return t={10:(t,e,i)=>{"use strict";let r=function(){};r.FDLayout=i(921),r.FDLayoutConstants=i(825),r.FDLayoutEdge=i(749),r.FDLayoutNode=i(487),r.DimensionD=i(855),r.HashMap=i(298),r.HashSet=i(133),r.IGeometry=i(687),r.IMath=i(932),r.Integer=i(551),r.Point=i(369),r.PointD=i(646),r.RandomSeed=i(599),r.RectangleD=i(797),r.Transform=i(603),r.UniqueIDGeneretor=i(885),r.Quicksort=i(503),r.LinkedList=i(447),r.LGraphObject=i(241),r.LGraph=i(553),r.LEdge=i(325),r.LGraphManager=i(938),r.LNode=i(897),r.Layout=i(940),r.LayoutConstants=i(612),r.NeedlemanWunsch=i(438),r.Matrix=i(663),r.SVD=i(611),t.exports=r},325:(t,e,i)=>{var r=i(241),n=i(687),s=i(932);function o(t,e,i){r.call(this,i),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=i,this.bendpoints=[],this.source=t,this.target=e}for(var h in o.prototype=Object.create(r.prototype),r)o[h]=r[h];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(t,e){for(var i=this.getOtherEnd(t),r=e.getGraphManager().getRoot();;){if(i.getOwner()==e)return i;if(i.getOwner()==r)break;i=i.getOwner().getParent()}return null},o.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=n.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=o},553:(t,e,i)=>{var r=i(241),n=i(551),s=i(612),o=i(938),h=i(897),a=i(325),l=i(797),g=i(369),u=i(447);function c(t,e,i){r.call(this,i),this.estimatedSize=n.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof o?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var p in c.prototype=Object.create(r.prototype),r)c[p]=r[p];c.prototype.getNodes=function(){return this.nodes},c.prototype.getEdges=function(){return this.edges},c.prototype.getGraphManager=function(){return this.graphManager},c.prototype.getParent=function(){return this.parent},c.prototype.getLeft=function(){return this.left},c.prototype.getRight=function(){return this.right},c.prototype.getTop=function(){return this.top},c.prototype.getBottom=function(){return this.bottom},c.prototype.isConnected=function(){return this.isConnected},c.prototype.add=function(t,e,i){if(null==e&&null==i){var r=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var n=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(i)>-1))throw"Source or target not in graph!";if(e.owner!=i.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=i.owner?null:(n.source=e,n.target=i,n.isInterGraph=!1,this.getEdges().push(n),e.edges.push(n),i!=e&&i.edges.push(n),n)},c.prototype.remove=function(t){var e=t;if(t instanceof h){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var i=e.edges.slice(),r=i.length,n=0;n<r;n++)(s=i[n]).isInterGraph?this.graphManager.remove(s):s.source.owner.remove(s);if(-1==(o=this.nodes.indexOf(e)))throw"Node not in owner node list!";this.nodes.splice(o,1)}else if(t instanceof a){var s;if(null==(s=t))throw"Edge is null!";if(null==s.source||null==s.target)throw"Source and/or target is null!";if(null==s.source.owner||null==s.target.owner||s.source.owner!=this||s.target.owner!=this)throw"Source and/or target owner is invalid!";var o,l=s.source.edges.indexOf(s),g=s.target.edges.indexOf(s);if(!(l>-1&&g>-1))throw"Source and/or target doesn't know this edge!";if(s.source.edges.splice(l,1),s.target!=s.source&&s.target.edges.splice(g,1),-1==(o=s.source.owner.getEdges().indexOf(s)))throw"Not in owner's edge list!";s.source.owner.getEdges().splice(o,1)}},c.prototype.updateLeftTop=function(){for(var t,e,i,r=n.MAX_VALUE,s=n.MAX_VALUE,o=this.getNodes(),h=o.length,a=0;a<h;a++){var l=o[a];r>(t=l.getTop())&&(r=t),s>(e=l.getLeft())&&(s=e)}return r==n.MAX_VALUE?null:(i=null!=o[0].getParent().paddingLeft?o[0].getParent().paddingLeft:this.margin,this.left=s-i,this.top=r-i,new g(this.left,this.top))},c.prototype.updateBounds=function(t){for(var e,i,r,s,o,h=n.MAX_VALUE,a=-n.MAX_VALUE,g=n.MAX_VALUE,u=-n.MAX_VALUE,c=this.nodes,p=c.length,f=0;f<p;f++){var d=c[f];t&&null!=d.child&&d.updateBounds(),h>(e=d.getLeft())&&(h=e),a<(i=d.getRight())&&(a=i),g>(r=d.getTop())&&(g=r),u<(s=d.getBottom())&&(u=s)}var y=new l(h,g,a-h,u-g);h==n.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),o=null!=c[0].getParent().paddingLeft?c[0].getParent().paddingLeft:this.margin,this.left=y.x-o,this.right=y.x+y.width+o,this.top=y.y-o,this.bottom=y.y+y.height+o},c.calculateBounds=function(t){for(var e,i,r,s,o=n.MAX_VALUE,h=-n.MAX_VALUE,a=n.MAX_VALUE,g=-n.MAX_VALUE,u=t.length,c=0;c<u;c++){var p=t[c];o>(e=p.getLeft())&&(o=e),h<(i=p.getRight())&&(h=i),a>(r=p.getTop())&&(a=r),g<(s=p.getBottom())&&(g=s)}return new l(o,a,h-o,g-a)},c.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==n.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,i=e.length,r=0;r<i;r++)t+=e[r].calcEstimatedSize();return this.estimatedSize=0==t?s.EMPTY_COMPOUND_NODE_SIZE:t/Math.sqrt(this.nodes.length),this.estimatedSize},c.prototype.updateConnected=function(){var t=this;if(0!=this.nodes.length){var e,i,r=new u,n=new Set,s=this.nodes[0];for(s.withChildren().forEach((function(t){r.push(t),n.add(t)}));0!==r.length;)for(var o=(e=(s=r.shift()).getEdges()).length,h=0;h<o;h++)null==(i=e[h].getOtherEndInGraph(s,this))||n.has(i)||i.withChildren().forEach((function(t){r.push(t),n.add(t)}));if(this.isConnected=!1,n.size>=this.nodes.length){var a=0;n.forEach((function(e){e.owner==t&&a++})),a==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=c},938:(t,e,i)=>{var r,n=i(325);function s(t){r=i(553),this.layout=t,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),i=this.add(t,e);return this.setRootGraph(i),this.rootGraph},s.prototype.add=function(t,e,i,r,n){if(null==i&&null==r&&null==n){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}n=i,i=t;var s=(r=e).getOwner(),o=n.getOwner();if(null==s||s.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==o||o.getGraphManager()!=this)throw"Target not in this graph mgr!";if(s==o)return i.isInterGraph=!1,s.add(i,r,n);if(i.isInterGraph=!0,i.source=r,i.target=n,this.edges.indexOf(i)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(i),null==i.source||null==i.target)throw"Edge source and/or target is null!";if(-1!=i.source.edges.indexOf(i)||-1!=i.target.edges.indexOf(i))throw"Edge already in source and/or target incidency list!";return i.source.edges.push(i),i.target.edges.push(i),i},s.prototype.remove=function(t){if(t instanceof r){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";for(var i,s=[],o=(s=s.concat(e.getEdges())).length,h=0;h<o;h++)i=s[h],e.remove(i);var a,l=[];for(o=(l=l.concat(e.getNodes())).length,h=0;h<o;h++)a=l[h],e.remove(a);e==this.rootGraph&&this.setRootGraph(null);var g=this.graphs.indexOf(e);this.graphs.splice(g,1),e.parent=null}else if(t instanceof n){if(null==(i=t))throw"Edge is null!";if(!i.isInterGraph)throw"Not an inter-graph edge!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(-1==i.source.edges.indexOf(i)||-1==i.target.edges.indexOf(i))throw"Source and/or target doesn't know this edge!";if(g=i.source.edges.indexOf(i),i.source.edges.splice(g,1),g=i.target.edges.indexOf(i),i.target.edges.splice(g,1),null==i.source.owner||null==i.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==i.source.owner.getGraphManager().edges.indexOf(i))throw"Not in owner graph manager's edge list!";g=i.source.owner.getGraphManager().edges.indexOf(i),i.source.owner.getGraphManager().edges.splice(g,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),i=e.length,r=0;r<i;r++)t=t.concat(e[r].getNodes());this.allNodes=t}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(null==this.allEdges){for(var t=[],e=this.getGraphs(),i=(e.length,0);i<e.length;i++)t=t.concat(e[i].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var i,r=t.getOwner();null!=(i=r.getParent());){if(i==e)return!0;if(null==(r=i.getOwner()))break}for(r=e.getOwner();null!=(i=r.getParent());){if(i==t)return!0;if(null==(r=i.getOwner()))break}return!1},s.prototype.calcLowestCommonAncestors=function(){for(var t,e,i,r,n,s=this.getAllEdges(),o=s.length,h=0;h<o;h++)if(e=(t=s[h]).source,i=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=i,e!=i){for(r=e.getOwner();null==t.lca;){for(t.targetInLca=i,n=i.getOwner();null==t.lca;){if(n==r){t.lca=n;break}if(n==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=n.getParent(),n=t.targetInLca.getOwner()}if(r==this.rootGraph)break;null==t.lca&&(t.sourceInLca=r.getParent(),r=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},s.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var i=t.getOwner();null!=i;){for(var r=e.getOwner();null!=r;){if(r==i)return r;r=r.getParent().getOwner()}i=i.getParent().getOwner()}return i},s.prototype.calcInclusionTreeDepths=function(t,e){var i;null==t&&null==e&&(t=this.rootGraph,e=1);for(var r=t.getNodes(),n=r.length,s=0;s<n;s++)(i=r[s]).inclusionTreeDepth=e,null!=i.child&&this.calcInclusionTreeDepths(i.child,e+1)},s.prototype.includesInvalidEdge=function(){for(var t,e=[],i=this.edges.length,r=0;r<i;r++)t=this.edges[r],this.isOneAncestorOfOther(t.source,t.target)&&e.push(t);for(r=0;r<e.length;r++)this.remove(e[r]);return!1},t.exports=s},241:t=>{t.exports=function(t){this.vGraphObject=t}},897:(t,e,i)=>{var r=i(241),n=i(551),s=i(797),o=i(612),h=i(599),a=i(646);function l(t,e,i,o){null==i&&null==o&&(o=e),r.call(this,o),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=n.MIN_VALUE,this.inclusionTreeDepth=n.MAX_VALUE,this.vGraphObject=o,this.edges=[],this.graphManager=t,this.rect=null!=i&&null!=e?new s(e.x,e.y,i.width,i.height):new s}for(var g in l.prototype=Object.create(r.prototype),r)l[g]=r[g];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(t){this.rect.width=t},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(t){this.rect.height=t},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new a(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new a(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},l.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},l.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},l.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},l.prototype.getEdgeListToNode=function(t){var e=[],i=this;return i.edges.forEach((function(r){if(r.target==t){if(r.source!=i)throw"Incorrect edge source!";e.push(r)}})),e},l.prototype.getEdgesBetween=function(t){var e=[],i=this;return i.edges.forEach((function(r){if(r.source!=i&&r.target!=i)throw"Incorrect edge source and/or target";r.target!=t&&r.source!=t||e.push(r)})),e},l.prototype.getNeighborsList=function(){var t=new Set,e=this;return e.edges.forEach((function(i){if(i.source==e)t.add(i.target);else{if(i.target!=e)throw"Incorrect incidency!";t.add(i.source)}})),t},l.prototype.withChildren=function(){var t=new Set;if(t.add(this),null!=this.child)for(var e=this.child.getNodes(),i=0;i<e.length;i++)e[i].withChildren().forEach((function(e){t.add(e)}));return t},l.prototype.getNoOfChildren=function(){var t=0;if(null==this.child)t=1;else for(var e=this.child.getNodes(),i=0;i<e.length;i++)t+=e[i].getNoOfChildren();return 0==t&&(t=1),t},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==n.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var t,e,i=-o.INITIAL_WORLD_BOUNDARY,r=o.INITIAL_WORLD_BOUNDARY;t=o.WORLD_CENTER_X+h.nextDouble()*(r-i)+i;var n=-o.INITIAL_WORLD_BOUNDARY,s=o.INITIAL_WORLD_BOUNDARY;e=o.WORLD_CENTER_Y+h.nextDouble()*(s-n)+n,this.rect.x=t,this.rect.y=e},l.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var e=t.getRight()-t.getLeft(),i=t.getBottom()-t.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(e+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>e?(this.rect.x-=(this.labelWidth-e)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(e+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(i+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>i?(this.rect.y-=(this.labelHeight-i)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(i+this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==n.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(t){var e=this.rect.x;e>o.WORLD_BOUNDARY?e=o.WORLD_BOUNDARY:e<-o.WORLD_BOUNDARY&&(e=-o.WORLD_BOUNDARY);var i=this.rect.y;i>o.WORLD_BOUNDARY?i=o.WORLD_BOUNDARY:i<-o.WORLD_BOUNDARY&&(i=-o.WORLD_BOUNDARY);var r=new a(e,i),n=t.inverseTransformPoint(r);this.setLocation(n.x,n.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=l},940:(t,e,i)=>{var r=i(612),n=i(938),s=i(897),o=i(325),h=i(553),a=i(646),l=i(603),g=i(899);function u(t){g.call(this),this.layoutQuality=r.QUALITY,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=r.DEFAULT_INCREMENTAL,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new n(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}u.RANDOM_SEED=1,u.prototype=Object.create(g.prototype),u.prototype.getGraphManager=function(){return this.graphManager},u.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},u.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},u.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},u.prototype.newGraphManager=function(){var t=new n(this);return this.graphManager=t,t},u.prototype.newGraph=function(t){return new h(null,this.graphManager,t)},u.prototype.newNode=function(t){return new s(this.graphManager,t)},u.prototype.newEdge=function(t){return new o(null,null,t)},u.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},u.prototype.runLayout=function(){var t;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),t=!this.checkLayoutSuccess()&&this.layout(),"during"!==r.ANIMATE&&(t&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,t)},u.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},u.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++)t[e];var i=this.graphManager.getRoot().getNodes();for(e=0;e<i.length;e++)i[e];this.update(this.graphManager.getRoot())}},u.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof s){var e=t;if(null!=e.getChild())for(var i=e.getChild().getNodes(),r=0;r<i.length;r++)update(i[r]);null!=e.vGraphObject&&e.vGraphObject.update(e)}else if(t instanceof o){var n=t;null!=n.vGraphObject&&n.vGraphObject.update(n)}else if(t instanceof h){var a=t;null!=a.vGraphObject&&a.vGraphObject.update(a)}},u.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=r.QUALITY,this.animationDuringLayout=r.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=r.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=r.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=r.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=r.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=r.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},u.prototype.transform=function(t){if(null==t)this.transform(new a(0,0));else{var e=new l,i=this.graphManager.getRoot().updateLeftTop();if(null!=i){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(i.x),e.setDeviceOrgY(i.y);for(var r=this.getAllNodes(),n=0;n<r.length;n++)r[n].transform(e)}}},u.prototype.positionNodesRandomly=function(t){if(null==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,i,r=t.getNodes(),n=0;n<r.length;n++)null==(i=(e=r[n]).getChild())||0==i.getNodes().length?e.scatter():(this.positionNodesRandomly(i),e.updateBounds())},u.prototype.getFlatForest=function(){for(var t=[],e=!0,i=this.graphManager.getRoot().getNodes(),r=!0,n=0;n<i.length;n++)null!=i[n].getChild()&&(r=!1);if(!r)return t;var s=new Set,o=[],h=new Map,a=[];for(a=a.concat(i);a.length>0&&e;){for(o.push(a[0]);o.length>0&&e;){var l=o[0];o.splice(0,1),s.add(l);var g=l.getEdges();for(n=0;n<g.length;n++){var u=g[n].getOtherEnd(l);if(h.get(l)!=u){if(s.has(u)){e=!1;break}o.push(u),h.set(u,l)}}}if(e){var c=[...s];for(t.push(c),n=0;n<c.length;n++){var p=c[n],f=a.indexOf(p);f>-1&&a.splice(f,1)}s=new Set,h=new Map}else t=[]}return t},u.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],i=t.source,r=this.graphManager.calcLowestCommonAncestor(t.source,t.target),n=0;n<t.bendpoints.length;n++){var s=this.newNode(null);s.setRect(new Point(0,0),new Dimension(1,1)),r.add(s);var o=this.newEdge(null);this.graphManager.add(o,i,s),e.add(s),i=s}return o=this.newEdge(null),this.graphManager.add(o,i,t.target),this.edgeToDummyNodes.set(t,e),t.isInterGraph()?this.graphManager.remove(t):r.remove(t),e},u.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=[...this.edgeToDummyNodes.keys()].concat(t);for(var e=0;e<t.length;e++){var i=t[e];if(i.bendpoints.length>0){for(var r=this.edgeToDummyNodes.get(i),n=0;n<r.length;n++){var s=r[n],o=new a(s.getCenterX(),s.getCenterY()),h=i.bendpoints.get(n);h.x=o.x,h.y=o.y,s.getOwner().remove(s)}this.graphManager.add(i,i.source,i.target)}}},u.transform=function(t,e,i,r){if(null!=i&&null!=r){var n=e;return t<=50?n-=(e-e/i)/50*(50-t):n+=(e*r-e)/50*(t-50),n}var s,o;return t<=50?(s=9*e/500,o=e/10):(s=9*e/50,o=-8*e),s*t+o},u.findCenterOfTree=function(t){var e=[];e=e.concat(t);var i=[],r=new Map,n=!1,s=null;1!=e.length&&2!=e.length||(n=!0,s=e[0]);for(var o=0;o<e.length;o++){var h=(g=e[o]).getNeighborsList().size;r.set(g,g.getNeighborsList().size),1==h&&i.push(g)}var a=[];for(a=a.concat(i);!n;){var l=[];for(l=l.concat(a),a=[],o=0;o<e.length;o++){var g=e[o],u=e.indexOf(g);u>=0&&e.splice(u,1),g.getNeighborsList().forEach((function(t){if(i.indexOf(t)<0){var e=r.get(t)-1;1==e&&a.push(t),r.set(t,e)}}))}i=i.concat(a),1!=e.length&&2!=e.length||(n=!0,s=e[0])}return s},u.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=u},612:t=>{function e(){}e.QUALITY=1,e.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,e.DEFAULT_INCREMENTAL=!1,e.DEFAULT_ANIMATION_ON_LAYOUT=!0,e.DEFAULT_ANIMATION_DURING_LAYOUT=!1,e.DEFAULT_ANIMATION_PERIOD=50,e.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,e.DEFAULT_GRAPH_MARGIN=15,e.NODE_DIMENSIONS_INCLUDE_LABELS=!1,e.SIMPLE_NODE_SIZE=40,e.SIMPLE_NODE_HALF_SIZE=e.SIMPLE_NODE_SIZE/2,e.EMPTY_COMPOUND_NODE_SIZE=40,e.MIN_EDGE_LENGTH=1,e.WORLD_BOUNDARY=1e6,e.INITIAL_WORLD_BOUNDARY=e.WORLD_BOUNDARY/1e3,e.WORLD_CENTER_X=1200,e.WORLD_CENTER_Y=900,t.exports=e},921:(t,e,i)=>{var r=i(940),n=i(825),s=i(612),o=i(687),h=i(932);function a(){r.call(this),this.useSmartIdealEdgeLengthCalculation=n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=n.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=n.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=n.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*n.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=n.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=n.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=n.MAX_ITERATIONS}for(var l in a.prototype=Object.create(r.prototype),r)a[l]=r[l];a.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},a.prototype.calcIdealEdgeLengths=function(){for(var t,e,i,r,o,h,a,l=this.getGraphManager().getAllEdges(),g=0;g<l.length;g++)e=(t=l[g]).idealLength,t.isInterGraph&&(r=t.getSource(),o=t.getTarget(),h=t.getSourceInLca().getEstimatedSize(),a=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=h+a-2*s.SIMPLE_NODE_SIZE),i=t.getLca().getInclusionTreeDepth(),t.idealLength+=e*n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(r.getInclusionTreeDepth()+o.getInclusionTreeDepth()-2*i))},a.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>n.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*n.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-n.ADAPTATION_LOWER_NODE_LIMIT)/(n.ADAPTATION_UPPER_NODE_LIMIT-n.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-n.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=n.MAX_NODE_DISPLACEMENT_INCREMENTAL):(t>n.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(n.COOLING_ADAPTATION_FACTOR,1-(t-n.ADAPTATION_LOWER_NODE_LIMIT)/(n.ADAPTATION_UPPER_NODE_LIMIT-n.ADAPTATION_LOWER_NODE_LIMIT)*(1-n.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=n.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*n.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},a.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),i=0;i<e.length;i++)t=e[i],this.calcSpringForce(t,t.idealLength)},a.prototype.calcRepulsionForces=function(t=!0,e=!1){var i,r,s,o,h,a=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%n.GRID_CALCULATION_CHECK_PERIOD==1&&t&&this.updateGrid(),h=new Set,i=0;i<a.length;i++)s=a[i],this.calculateRepulsionForceOfANode(s,h,t,e),h.add(s);else for(i=0;i<a.length;i++)for(s=a[i],r=i+1;r<a.length;r++)o=a[r],s.getOwner()==o.getOwner()&&this.calcRepulsionForce(s,o)},a.prototype.calcGravitationalForces=function(){for(var t,e=this.getAllNodesToApplyGravitation(),i=0;i<e.length;i++)t=e[i],this.calcGravitationalForce(t)},a.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].move()},a.prototype.calcSpringForce=function(t,e){var i,r,n,s,o=t.getSource(),h=t.getTarget();if(this.uniformLeafNodeSizes&&null==o.getChild()&&null==h.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;0!=(i=t.getLength())&&(n=(r=t.edgeElasticity*(i-e))*(t.lengthX/i),s=r*(t.lengthY/i),o.springForceX+=n,o.springForceY+=s,h.springForceX-=n,h.springForceY-=s)},a.prototype.calcRepulsionForce=function(t,e){var i,r,s,a,l,g,u,c=t.getRect(),p=e.getRect(),f=new Array(2),d=new Array(4);if(c.intersects(p)){o.calcSeparationAmount(c,p,f,n.DEFAULT_EDGE_LENGTH/2),g=2*f[0],u=2*f[1];var y=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=y*g,t.repulsionForceY-=y*u,e.repulsionForceX+=y*g,e.repulsionForceY+=y*u}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(i=p.getCenterX()-c.getCenterX(),r=p.getCenterY()-c.getCenterY()):(o.getIntersection(c,p,d),i=d[2]-d[0],r=d[3]-d[1]),Math.abs(i)<n.MIN_REPULSION_DIST&&(i=h.sign(i)*n.MIN_REPULSION_DIST),Math.abs(r)<n.MIN_REPULSION_DIST&&(r=h.sign(r)*n.MIN_REPULSION_DIST),s=i*i+r*r,a=Math.sqrt(s),g=(l=(t.nodeRepulsion/2+e.nodeRepulsion/2)*t.noOfChildren*e.noOfChildren/s)*i/a,u=l*r/a,t.repulsionForceX-=g,t.repulsionForceY-=u,e.repulsionForceX+=g,e.repulsionForceY+=u},a.prototype.calcGravitationalForce=function(t){var e,i,r,n,s,o,h,a;i=((e=t.getOwner()).getRight()+e.getLeft())/2,r=(e.getTop()+e.getBottom())/2,n=t.getCenterX()-i,s=t.getCenterY()-r,o=Math.abs(n)+t.getWidth()/2,h=Math.abs(s)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(o>(a=e.getEstimatedSize()*this.gravityRangeFactor)||h>a)&&(t.gravitationForceX=-this.gravityConstant*n,t.gravitationForceY=-this.gravityConstant*s):(o>(a=e.getEstimatedSize()*this.compoundGravityRangeFactor)||h>a)&&(t.gravitationForceX=-this.gravityConstant*n*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*s*this.compoundGravityConstant)},a.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},a.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},a.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,e=this.graphManager.getAllNodes(),i=0;i<e.length;i++)(t=e[i]).noOfChildren=t.getNoOfChildren()},a.prototype.calcGrid=function(t){var e,i;e=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),i=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var r=new Array(e),n=0;n<e;n++)r[n]=new Array(i);for(n=0;n<e;n++)for(var s=0;s<i;s++)r[n][s]=new Array;return r},a.prototype.addNodeToGrid=function(t,e,i){var r,n,s,o;r=parseInt(Math.floor((t.getRect().x-e)/this.repulsionRange)),n=parseInt(Math.floor((t.getRect().width+t.getRect().x-e)/this.repulsionRange)),s=parseInt(Math.floor((t.getRect().y-i)/this.repulsionRange)),o=parseInt(Math.floor((t.getRect().height+t.getRect().y-i)/this.repulsionRange));for(var h=r;h<=n;h++)for(var a=s;a<=o;a++)this.grid[h][a].push(t),t.setGridCoordinates(r,n,s,o)},a.prototype.updateGrid=function(){var t,e,i=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<i.length;t++)e=i[t],this.addNodeToGrid(e,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},a.prototype.calculateRepulsionForceOfANode=function(t,e,i,r){if(this.totalIterations%n.GRID_CALCULATION_CHECK_PERIOD==1&&i||r){var s,o=new Set;t.surrounding=new Array;for(var h=this.grid,a=t.startX-1;a<t.finishX+2;a++)for(var l=t.startY-1;l<t.finishY+2;l++)if(!(a<0||l<0||a>=h.length||l>=h[0].length))for(var g=0;g<h[a][l].length;g++)if(s=h[a][l][g],t.getOwner()==s.getOwner()&&t!=s&&!e.has(s)&&!o.has(s)){var u=Math.abs(t.getCenterX()-s.getCenterX())-(t.getWidth()/2+s.getWidth()/2),c=Math.abs(t.getCenterY()-s.getCenterY())-(t.getHeight()/2+s.getHeight()/2);u<=this.repulsionRange&&c<=this.repulsionRange&&o.add(s)}t.surrounding=[...o]}for(a=0;a<t.surrounding.length;a++)this.calcRepulsionForce(t,t.surrounding[a])},a.prototype.calcRepulsionRange=function(){return 0},t.exports=a},825:(t,e,i)=>{var r=i(612);function n(){}for(var s in r)n[s]=r[s];n.MAX_ITERATIONS=2500,n.DEFAULT_EDGE_LENGTH=50,n.DEFAULT_SPRING_STRENGTH=.45,n.DEFAULT_REPULSION_STRENGTH=4500,n.DEFAULT_GRAVITY_STRENGTH=.4,n.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,n.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,n.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,n.COOLING_ADAPTATION_FACTOR=.33,n.ADAPTATION_LOWER_NODE_LIMIT=1e3,n.ADAPTATION_UPPER_NODE_LIMIT=5e3,n.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,n.MAX_NODE_DISPLACEMENT=3*n.MAX_NODE_DISPLACEMENT_INCREMENTAL,n.MIN_REPULSION_DIST=n.DEFAULT_EDGE_LENGTH/10,n.CONVERGENCE_CHECK_PERIOD=100,n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,n.MIN_EDGE_LENGTH=1,n.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=n},749:(t,e,i)=>{var r=i(325),n=i(825);function s(t,e,i){r.call(this,t,e,i),this.idealLength=n.DEFAULT_EDGE_LENGTH,this.edgeElasticity=n.DEFAULT_SPRING_STRENGTH}for(var o in s.prototype=Object.create(r.prototype),r)s[o]=r[o];t.exports=s},487:(t,e,i)=>{var r=i(897),n=i(825);function s(t,e,i,s){r.call(this,t,e,i,s),this.nodeRepulsion=n.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var o in s.prototype=Object.create(r.prototype),r)s[o]=r[o];s.prototype.setGridCoordinates=function(t,e,i,r){this.startX=t,this.finishX=e,this.startY=i,this.finishY=r},t.exports=s},855:t=>{function e(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}e.prototype.getWidth=function(){return this.width},e.prototype.setWidth=function(t){this.width=t},e.prototype.getHeight=function(){return this.height},e.prototype.setHeight=function(t){this.height=t},t.exports=e},899:t=>{function e(){this.listeners=[]}var i=e.prototype;i.addListener=function(t,e){this.listeners.push({event:t,callback:e})},i.removeListener=function(t,e){for(var i=this.listeners.length;i>=0;i--){var r=this.listeners[i];r.event===t&&r.callback===e&&this.listeners.splice(i,1)}},i.emit=function(t,e){for(var i=0;i<this.listeners.length;i++){var r=this.listeners[i];t===r.event&&r.callback(e)}},t.exports=e},298:(t,e,i)=>{var r=i(885);function n(){this.map={},this.keys=[]}n.prototype.put=function(t,e){var i=r.createID(t);this.contains(i)||(this.map[i]=e,this.keys.push(t))},n.prototype.contains=function(t){return r.createID(t),null!=this.map[t]},n.prototype.get=function(t){var e=r.createID(t);return this.map[e]},n.prototype.keySet=function(){return this.keys},t.exports=n},133:(t,e,i)=>{var r=i(885);function n(){this.set={}}n.prototype.add=function(t){var e=r.createID(t);this.contains(e)||(this.set[e]=t)},n.prototype.remove=function(t){delete this.set[r.createID(t)]},n.prototype.clear=function(){this.set={}},n.prototype.contains=function(t){return this.set[r.createID(t)]==t},n.prototype.isEmpty=function(){return 0===this.size()},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),i=e.length,r=0;r<i;r++)t.push(this.set[e[r]])},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAll=function(t){for(var e=t.length,i=0;i<e;i++){var r=t[i];this.add(r)}},t.exports=n},687:(t,e,i)=>{const r=i(369);function n(){}n.calcSeparationAmount=function(t,e,i,r){if(!t.intersects(e))throw"assert failed";let n=new Array(2);this.decideDirectionsForOverlappingNodes(t,e,n),i[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),i[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?i[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(i[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?i[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(i[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));let s=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()===t.getCenterY()&&e.getCenterX()===t.getCenterX()&&(s=1);let o=s*i[0],h=i[1]/s;i[0]<h?h=i[0]:o=i[1],i[0]=-1*n[0]*(h/2+r),i[1]=-1*n[1]*(o/2+r)},n.decideDirectionsForOverlappingNodes=function(t,e,i){t.getCenterX()<e.getCenterX()?i[0]=-1:i[0]=1,t.getCenterY()<e.getCenterY()?i[1]=-1:i[1]=1},n.getIntersection2=function(t,e,i){let r=t.getCenterX(),n=t.getCenterY(),s=e.getCenterX(),o=e.getCenterY();if(t.intersects(e))return i[0]=r,i[1]=n,i[2]=s,i[3]=o,!0;let h=t.getX(),a=t.getY(),l=t.getRight(),g=t.getX(),u=t.getBottom(),c=t.getRight(),p=t.getWidthHalf(),f=t.getHeightHalf(),d=e.getX(),y=e.getY(),E=e.getRight(),A=e.getX(),_=e.getBottom(),O=e.getRight(),N=e.getWidthHalf(),L=e.getHeightHalf(),m=!1,I=!1;if(r===s){if(n>o)return i[0]=r,i[1]=a,i[2]=s,i[3]=_,!1;if(n<o)return i[0]=r,i[1]=u,i[2]=s,i[3]=y,!1}else if(n===o){if(r>s)return i[0]=h,i[1]=n,i[2]=E,i[3]=o,!1;if(r<s)return i[0]=l,i[1]=n,i[2]=d,i[3]=o,!1}else{let v,T,D,M,R,w,x=t.height/t.width,C=e.height/e.width,G=(o-n)/(s-r);if(-x===G?r>s?(i[0]=g,i[1]=u,m=!0):(i[0]=l,i[1]=a,m=!0):x===G&&(r>s?(i[0]=h,i[1]=a,m=!0):(i[0]=c,i[1]=u,m=!0)),-C===G?s>r?(i[2]=A,i[3]=_,I=!0):(i[2]=E,i[3]=y,I=!0):C===G&&(s>r?(i[2]=d,i[3]=y,I=!0):(i[2]=O,i[3]=_,I=!0)),m&&I)return!1;if(r>s?n>o?(v=this.getCardinalDirection(x,G,4),T=this.getCardinalDirection(C,G,2)):(v=this.getCardinalDirection(-x,G,3),T=this.getCardinalDirection(-C,G,1)):n>o?(v=this.getCardinalDirection(-x,G,1),T=this.getCardinalDirection(-C,G,3)):(v=this.getCardinalDirection(x,G,2),T=this.getCardinalDirection(C,G,4)),!m)switch(v){case 1:M=a,D=r+-f/G,i[0]=D,i[1]=M;break;case 2:D=c,M=n+p*G,i[0]=D,i[1]=M;break;case 3:M=u,D=r+f/G,i[0]=D,i[1]=M;break;case 4:D=g,M=n+-p*G,i[0]=D,i[1]=M}if(!I)switch(T){case 1:w=y,R=s+-L/G,i[2]=R,i[3]=w;break;case 2:R=O,w=o+N*G,i[2]=R,i[3]=w;break;case 3:w=_,R=s+L/G,i[2]=R,i[3]=w;break;case 4:R=A,w=o+-N*G,i[2]=R,i[3]=w}}return!1},n.getCardinalDirection=function(t,e,i){return t>e?i:1+i%4},n.getIntersection=function(t,e,i,n){if(null==n)return this.getIntersection2(t,e,i);let s,o,h,a,l,g,u,c,p,f=t.x,d=t.y,y=e.x,E=e.y,A=i.x,_=i.y,O=n.x,N=n.y;return h=E-d,l=f-y,u=y*d-f*E,a=N-_,g=A-O,c=O*_-A*N,p=h*g-a*l,0===p?null:(s=(l*c-g*u)/p,o=(a*u-h*c)/p,new r(s,o))},n.angleOfVector=function(t,e,i,r){let n;return t!==i?(n=Math.atan((r-e)/(i-t)),i<t?n+=Math.PI:r<e&&(n+=this.TWO_PI)):n=r<e?this.ONE_AND_HALF_PI:this.HALF_PI,n},n.doIntersect=function(t,e,i,r){let n=t.x,s=t.y,o=e.x,h=e.y,a=i.x,l=i.y,g=r.x,u=r.y,c=(o-n)*(u-l)-(g-a)*(h-s);if(0===c)return!1;{let t=((u-l)*(g-n)+(a-g)*(u-s))/c,e=((s-h)*(g-n)+(o-n)*(u-s))/c;return 0<t&&t<1&&0<e&&e<1}},n.findCircleLineIntersections=function(t,e,i,r,n,s,o){let h=(i-t)*(i-t)+(r-e)*(r-e),a=2*((t-n)*(i-t)+(e-s)*(r-e)),l=(t-n)*(t-n)+(e-s)*(e-s)-o*o;if(a*a-4*h*l>=0){let t=(-a+Math.sqrt(a*a-4*h*l))/(2*h),e=(-a-Math.sqrt(a*a-4*h*l))/(2*h);return t>=0&&t<=1?[t]:e>=0&&e<=1?[e]:null}return null},n.HALF_PI=.5*Math.PI,n.ONE_AND_HALF_PI=1.5*Math.PI,n.TWO_PI=2*Math.PI,n.THREE_PI=3*Math.PI,t.exports=n},932:t=>{function e(){}e.sign=function(t){return t>0?1:t<0?-1:0},e.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},e.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=e},551:t=>{function e(){}e.MAX_VALUE=2147483647,e.MIN_VALUE=-2147483648,t.exports=e},447:t=>{const e=t=>({value:t,next:null,prev:null}),i=(t,e,i,r)=>(null!==t?t.next=e:r.head=e,null!==i?i.prev=e:r.tail=e,e.prev=t,e.next=i,r.length++,e),r=(t,e)=>{let{prev:i,next:r}=t;return null!==i?i.next=r:e.head=r,null!==r?r.prev=i:e.tail=i,t.prev=t.next=null,e.length--,t};t.exports=class{constructor(t){this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach((t=>this.push(t)))}size(){return this.length}insertBefore(t,r){return i(r.prev,e(t),r,this)}insertAfter(t,r){return i(r,e(t),r.next,this)}insertNodeBefore(t,e){return i(e.prev,t,e,this)}insertNodeAfter(t,e){return i(e,t,e.next,this)}push(t){return i(this.tail,e(t),null,this)}unshift(t){return i(null,e(t),this.head,this)}remove(t){return r(t,this)}pop(){return r(this.tail,this).value}popNode(){return r(this.tail,this)}shift(){return r(this.head,this).value}shiftNode(){return r(this.head,this)}get_object_at(t){if(t<=this.length()){for(var e=1,i=this.head;e<t;)i=i.next,e++;return i.value}}set_object_at(t,e){if(t<=this.length()){for(var i=1,r=this.head;i<t;)r=r.next,i++;r.value=e}}}},663:t=>{function e(){}e.multMat=function(t,e){let i=[];for(let r=0;r<t.length;r++){i[r]=[];for(let n=0;n<e[0].length;n++){i[r][n]=0;for(let s=0;s<t[0].length;s++)i[r][n]+=t[r][s]*e[s][n]}}return i},e.transpose=function(t){let e=[];for(let i=0;i<t[0].length;i++){e[i]=[];for(let r=0;r<t.length;r++)e[i][r]=t[r][i]}return e},e.multCons=function(t,e){let i=[];for(let r=0;r<t.length;r++)i[r]=t[r]*e;return i},e.minusOp=function(t,e){let i=[];for(let r=0;r<t.length;r++)i[r]=t[r]-e[r];return i},e.dotProduct=function(t,e){let i=0;for(let r=0;r<t.length;r++)i+=t[r]*e[r];return i},e.mag=function(t){return Math.sqrt(this.dotProduct(t,t))},e.normalize=function(t){let e=[],i=this.mag(t);for(let r=0;r<t.length;r++)e[r]=t[r]/i;return e},e.multGamma=function(t){let e=[],i=0;for(let e=0;e<t.length;e++)i+=t[e];i*=-1/t.length;for(let r=0;r<t.length;r++)e[r]=i+t[r];return e},e.multL=function(t,e,i){let r=[],n=[],s=[];for(let i=0;i<e[0].length;i++){let r=0;for(let n=0;n<e.length;n++)r+=-.5*e[n][i]*t[n];n[i]=r}for(let t=0;t<i.length;t++){let e=0;for(let r=0;r<i.length;r++)e+=i[t][r]*n[r];s[t]=e}for(let t=0;t<e.length;t++){let i=0;for(let r=0;r<e[0].length;r++)i+=e[t][r]*s[r];r[t]=i}return r},t.exports=e},369:t=>{function e(t,e,i){this.x=null,this.y=null,null==t&&null==e&&null==i?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==i?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==i&&(i=t,this.x=i.x,this.y=i.y)}e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.getLocation=function(){return new e(this.x,this.y)},e.prototype.setLocation=function(t,e,i){"Point"==t.constructor.name&&null==e&&null==i?(i=t,this.setLocation(i.x,i.y)):"number"==typeof t&&"number"==typeof e&&null==i&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},e.prototype.move=function(t,e){this.x=t,this.y=e},e.prototype.translate=function(t,e){this.x+=t,this.y+=e},e.prototype.equals=function(t){if("Point"==t.constructor.name){var e=t;return this.x==e.x&&this.y==e.y}return this==t},e.prototype.toString=function(){return(new e).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=e},646:t=>{function e(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.setX=function(t){this.x=t},e.prototype.setY=function(t){this.y=t},e.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},e.prototype.getCopy=function(){return new e(this.x,this.y)},e.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=e},503:(t,e,i)=>{const r=i(447);t.exports=class{constructor(t,e){let i;null===e&&void 0===e||(this.compareFunction=this._defaultCompareFunction),i=t instanceof r?t.size():t.length,this._quicksort(t,0,i-1)}_quicksort(t,e,i){if(e<i){let r=this._partition(t,e,i);this._quicksort(t,e,r),this._quicksort(t,r+1,i)}}_partition(t,e,i){let r=this._get(t,e),n=e,s=i;for(;;){for(;this.compareFunction(r,this._get(t,s));)s--;for(;this.compareFunction(this._get(t,n),r);)n++;if(!(n<s))return s;this._swap(t,n,s),n++,s--}}_get(t,e){return t instanceof r?t.get_object_at(e):t[e]}_set(t,e,i){t instanceof r?t.set_object_at(e,i):t[e]=i}_swap(t,e,i){let r=this._get(t,e);this._set(t,e,this._get(t,i)),this._set(t,i,r)}_defaultCompareFunction(t,e){return e>t}}},599:t=>{function e(){}e.seed=1,e.x=0,e.nextDouble=function(){return e.x=1e4*Math.sin(e.seed++),e.x-Math.floor(e.x)},t.exports=e},797:t=>{function e(t,e,i,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=i&&null!=r&&(this.x=t,this.y=e,this.width=i,this.height=r)}e.prototype.getX=function(){return this.x},e.prototype.setX=function(t){this.x=t},e.prototype.getY=function(){return this.y},e.prototype.setY=function(t){this.y=t},e.prototype.getWidth=function(){return this.width},e.prototype.setWidth=function(t){this.width=t},e.prototype.getHeight=function(){return this.height},e.prototype.setHeight=function(t){this.height=t},e.prototype.getRight=function(){return this.x+this.width},e.prototype.getBottom=function(){return this.y+this.height},e.prototype.intersects=function(t){return!(this.getRight()<t.x||this.getBottom()<t.y||t.getRight()<this.x||t.getBottom()<this.y)},e.prototype.getCenterX=function(){return this.x+this.width/2},e.prototype.getMinX=function(){return this.getX()},e.prototype.getMaxX=function(){return this.getX()+this.width},e.prototype.getCenterY=function(){return this.y+this.height/2},e.prototype.getMinY=function(){return this.getY()},e.prototype.getMaxY=function(){return this.getY()+this.height},e.prototype.getWidthHalf=function(){return this.width/2},e.prototype.getHeightHalf=function(){return this.height/2},t.exports=e},611:t=>{function e(){}e.svd=function(t){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=t.length,this.n=t[0].length;let i=Math.min(this.m,this.n);this.s=function(t){let e=[];for(;t-- >0;)e.push(0);return e}(Math.min(this.m+1,this.n)),this.U=function(t){let e=function(t){if(0==t.length)return 0;{let i=[];for(let r=0;r<t[0];r++)i.push(e(t.slice(1)));return i}};return e(t)}([this.m,i]),this.V=function(t){let e=function(t){if(0==t.length)return 0;{let i=[];for(let r=0;r<t[0];r++)i.push(e(t.slice(1)));return i}};return e(t)}([this.n,this.n]);let r=function(t){let e=[];for(;t-- >0;)e.push(0);return e}(this.n),n=function(t){let e=[];for(;t-- >0;)e.push(0);return e}(this.m),s=Math.min(this.m-1,this.n),o=Math.max(0,Math.min(this.n-2,this.m));for(let i=0;i<Math.max(s,o);i++){if(i<s){this.s[i]=0;for(let r=i;r<this.m;r++)this.s[i]=e.hypot(this.s[i],t[r][i]);if(0!==this.s[i]){t[i][i]<0&&(this.s[i]=-this.s[i]);for(let e=i;e<this.m;e++)t[e][i]/=this.s[i];t[i][i]+=1}this.s[i]=-this.s[i]}for(let e=i+1;e<this.n;e++){if(h=i<s,a=0!==this.s[i],h&&a){let r=0;for(let n=i;n<this.m;n++)r+=t[n][i]*t[n][e];r=-r/t[i][i];for(let n=i;n<this.m;n++)t[n][e]+=r*t[n][i]}r[e]=t[i][e]}if(function(t,e){return e}(0,i<s))for(let e=i;e<this.m;e++)this.U[e][i]=t[e][i];if(i<o){r[i]=0;for(let t=i+1;t<this.n;t++)r[i]=e.hypot(r[i],r[t]);if(0!==r[i]){r[i+1]<0&&(r[i]=-r[i]);for(let t=i+1;t<this.n;t++)r[t]/=r[i];r[i+1]+=1}if(r[i]=-r[i],function(t,e){return t&&e}(i+1<this.m,0!==r[i])){for(let t=i+1;t<this.m;t++)n[t]=0;for(let e=i+1;e<this.n;e++)for(let s=i+1;s<this.m;s++)n[s]+=r[e]*t[s][e];for(let e=i+1;e<this.n;e++){let s=-r[e]/r[i+1];for(let r=i+1;r<this.m;r++)t[r][e]+=s*n[r]}}for(let t=i+1;t<this.n;t++)this.V[t][i]=r[t]}}var h,a;let l=Math.min(this.n,this.m+1);s<this.n&&(this.s[s]=t[s][s]),this.m<l&&(this.s[l-1]=0),o+1<l&&(r[o]=t[o][l-1]),r[l-1]=0;for(let t=s;t<i;t++){for(let e=0;e<this.m;e++)this.U[e][t]=0;this.U[t][t]=1}for(let t=s-1;t>=0;t--)if(0!==this.s[t]){for(let e=t+1;e<i;e++){let i=0;for(let r=t;r<this.m;r++)i+=this.U[r][t]*this.U[r][e];i=-i/this.U[t][t];for(let r=t;r<this.m;r++)this.U[r][e]+=i*this.U[r][t]}for(let e=t;e<this.m;e++)this.U[e][t]=-this.U[e][t];this.U[t][t]=1+this.U[t][t];for(let e=0;e<t-1;e++)this.U[e][t]=0}else{for(let e=0;e<this.m;e++)this.U[e][t]=0;this.U[t][t]=1}for(let t=this.n-1;t>=0;t--){if(function(t,e){return t&&e}(t<o,0!==r[t]))for(let e=t+1;e<i;e++){let i=0;for(let r=t+1;r<this.n;r++)i+=this.V[r][t]*this.V[r][e];i=-i/this.V[t+1][t];for(let r=t+1;r<this.n;r++)this.V[r][e]+=i*this.V[r][t]}for(let e=0;e<this.n;e++)this.V[e][t]=0;this.V[t][t]=1}let g=l-1,u=0,c=Math.pow(2,-52),p=Math.pow(2,-966);for(;l>0;){let t,i;for(t=l-2;t>=-1&&-1!==t;t--)if(Math.abs(r[t])<=p+c*(Math.abs(this.s[t])+Math.abs(this.s[t+1]))){r[t]=0;break}if(t===l-2)i=4;else{let e;for(e=l-1;e>=t&&e!==t;e--){let i=(e!==l?Math.abs(r[e]):0)+(e!==t+1?Math.abs(r[e-1]):0);if(Math.abs(this.s[e])<=p+c*i){this.s[e]=0;break}}e===t?i=3:e===l-1?i=1:(i=2,t=e)}switch(t++,i){case 1:{let i=r[l-2];r[l-2]=0;for(let n=l-2;n>=t;n--){let s=e.hypot(this.s[n],i),o=this.s[n]/s,h=i/s;this.s[n]=s,n!==t&&(i=-h*r[n-1],r[n-1]=o*r[n-1]);for(let t=0;t<this.n;t++)s=o*this.V[t][n]+h*this.V[t][l-1],this.V[t][l-1]=-h*this.V[t][n]+o*this.V[t][l-1],this.V[t][n]=s}}break;case 2:{let i=r[t-1];r[t-1]=0;for(let n=t;n<l;n++){let s=e.hypot(this.s[n],i),o=this.s[n]/s,h=i/s;this.s[n]=s,i=-h*r[n],r[n]=o*r[n];for(let e=0;e<this.m;e++)s=o*this.U[e][n]+h*this.U[e][t-1],this.U[e][t-1]=-h*this.U[e][n]+o*this.U[e][t-1],this.U[e][n]=s}}break;case 3:{let i=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[l-1]),Math.abs(this.s[l-2])),Math.abs(r[l-2])),Math.abs(this.s[t])),Math.abs(r[t])),n=this.s[l-1]/i,s=this.s[l-2]/i,o=r[l-2]/i,h=this.s[t]/i,a=r[t]/i,g=((s+n)*(s-n)+o*o)/2,c=n*o*(n*o),p=0;(function(t,e){return t||e})(0!==g,0!==c)&&(p=Math.sqrt(g*g+c),g<0&&(p=-p),p=c/(g+p));let f=(h+n)*(h-n)+p,d=h*a;for(let i=t;i<l-1;i++){let n=e.hypot(f,d),s=f/n,o=d/n;i!==t&&(r[i-1]=n),f=s*this.s[i]+o*r[i],r[i]=s*r[i]-o*this.s[i],d=o*this.s[i+1],this.s[i+1]=s*this.s[i+1];for(let t=0;t<this.n;t++)n=s*this.V[t][i]+o*this.V[t][i+1],this.V[t][i+1]=-o*this.V[t][i]+s*this.V[t][i+1],this.V[t][i]=n;if(n=e.hypot(f,d),s=f/n,o=d/n,this.s[i]=n,f=s*r[i]+o*this.s[i+1],this.s[i+1]=-o*r[i]+s*this.s[i+1],d=o*r[i+1],r[i+1]=s*r[i+1],i<this.m-1)for(let t=0;t<this.m;t++)n=s*this.U[t][i]+o*this.U[t][i+1],this.U[t][i+1]=-o*this.U[t][i]+s*this.U[t][i+1],this.U[t][i]=n}r[l-2]=f,u+=1}break;case 4:if(this.s[t]<=0){this.s[t]=this.s[t]<0?-this.s[t]:0;for(let e=0;e<=g;e++)this.V[e][t]=-this.V[e][t]}for(;t<g&&!(this.s[t]>=this.s[t+1]);){let e=this.s[t];if(this.s[t]=this.s[t+1],this.s[t+1]=e,t<this.n-1)for(let i=0;i<this.n;i++)e=this.V[i][t+1],this.V[i][t+1]=this.V[i][t],this.V[i][t]=e;if(t<this.m-1)for(let i=0;i<this.m;i++)e=this.U[i][t+1],this.U[i][t+1]=this.U[i][t],this.U[i][t]=e;t++}u=0,l--}}return{U:this.U,V:this.V,S:this.s}},e.hypot=function(t,e){let i;return Math.abs(t)>Math.abs(e)?(i=e/t,i=Math.abs(t)*Math.sqrt(1+i*i)):0!=e?(i=t/e,i=Math.abs(e)*Math.sqrt(1+i*i)):i=0,i},t.exports=e},603:(t,e,i)=>{var r=i(646);function n(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}n.prototype.getWorldOrgX=function(){return this.lworldOrgX},n.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},n.prototype.getWorldOrgY=function(){return this.lworldOrgY},n.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},n.prototype.getWorldExtX=function(){return this.lworldExtX},n.prototype.setWorldExtX=function(t){this.lworldExtX=t},n.prototype.getWorldExtY=function(){return this.lworldExtY},n.prototype.setWorldExtY=function(t){this.lworldExtY=t},n.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},n.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},n.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},n.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},n.prototype.getDeviceExtX=function(){return this.ldeviceExtX},n.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},n.prototype.getDeviceExtY=function(){return this.ldeviceExtY},n.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},n.prototype.transformX=function(t){var e=0,i=this.lworldExtX;return 0!=i&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/i),e},n.prototype.transformY=function(t){var e=0,i=this.lworldExtY;return 0!=i&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/i),e},n.prototype.inverseTransformX=function(t){var e=0,i=this.ldeviceExtX;return 0!=i&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/i),e},n.prototype.inverseTransformY=function(t){var e=0,i=this.ldeviceExtY;return 0!=i&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/i),e},n.prototype.inverseTransformPoint=function(t){return new r(this.inverseTransformX(t.x),this.inverseTransformY(t.y))},t.exports=n},885:t=>{function e(){}e.lastID=0,e.createID=function(t){return e.isPrimitive(t)?t:(null!=t.uniqueID||(t.uniqueID=e.getString(),e.lastID++),t.uniqueID)},e.getString=function(t){return null==t&&(t=e.lastID),"Object#"+t},e.isPrimitive=function(t){var e=typeof t;return null==t||"object"!=e&&"function"!=e},t.exports=e},438:t=>{t.exports=class{constructor(t,e,i=1,r=-1,n=-1){this.sequence1=t,this.sequence2=e,this.match_score=i,this.mismatch_penalty=r,this.gap_penalty=n,this.iMax=t.length+1,this.jMax=e.length+1,this.grid=new Array(this.iMax);for(let t=0;t<this.iMax;t++){this.grid[t]=new Array(this.jMax);for(let e=0;e<this.jMax;e++)this.grid[t][e]=0}this.tracebackGrid=new Array(this.iMax);for(let t=0;t<this.iMax;t++){this.tracebackGrid[t]=new Array(this.jMax);for(let e=0;e<this.jMax;e++)this.tracebackGrid[t][e]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}getScore(){return this.score}getAlignments(){return this.alignments}computeGrids(){for(let t=1;t<this.jMax;t++)this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty,this.tracebackGrid[0][t]=[!1,!1,!0];for(let t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(let t=1;t<this.iMax;t++)for(let e=1;e<this.jMax;e++){let i;i=this.sequence1[t-1]===this.sequence2[e-1]?this.grid[t-1][e-1]+this.match_score:this.grid[t-1][e-1]+this.mismatch_penalty;let r=[i,this.grid[t-1][e]+this.gap_penalty,this.grid[t][e-1]+this.gap_penalty],n=this.arrayAllMaxIndexes(r);this.grid[t][e]=r[n[0]],this.tracebackGrid[t][e]=[n.includes(0),n.includes(1),n.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}alignmentTraceback(){let t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){let e=t[0],i=this.tracebackGrid[e.pos[0]][e.pos[1]];i[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),i[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),i[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),0===e.pos[0]&&0===e.pos[1]&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments}getAllIndexes(t,e){let i=[],r=-1;for(;-1!==(r=t.indexOf(e,r+1));)i.push(r);return i}arrayAllMaxIndexes(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}}},e={},function i(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,i),s.exports}(10);var t,e}));